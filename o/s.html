<meta> <!-- Google tag (gtag.js) --><script async src="https://www.googletagmanager.com/gtag/js?id=G-367C4F1NZB"></script><script>window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', 'G-367C4F1NZB'); </script><title>[SWAGSHOT]</title><style>*{margin:0;width:100%;height:100%;image-rendering:optimizeSpeed;background:#000;position:relative}#t{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}#g{display:block}</style><div id="t"><canvas id="g"></canvas></div><script>function _N(t){const i={};return["je","jd","jc","iV","iU","jn","jb","ja","j_","iT","iS","jm","gz","jl","jk","jj","iF","iN","iP","j$","jE","jD","ji","iG","iW","iO","jh","iY","jo"].forEach((e,h)=>i[e]=t[h]),i}let R,G,W,P,dm,fA,dl,fz,w=window,_c=1,bu=parseFloat(localStorage[1])||.5,ak=g,cc=[];_p=((t,i,e)=>i<t?t:i>e?e:i),_M=((t,i,e)=>i>=t&&i<=e),H=((t,i)=>random()*(i-t)+t),bt=(t=>t[~~(random()*t.length)]),_k=((t,i,e,h)=>sqrt(pow(t-e,2)+pow(i-h,2))),_b=((t,i)=>_k(t.x,t.y,i.x,i.y)),_W=(t=>ie(t,PI)),aj=((t,i)=>atan2(i.y-t.y,i.x-t.x)),ie=((t,i)=>((t%=2*i)>i&&(t-=2*i),t<-i&&(t+=2*i),t));let fw=Math;Object.getOwnPropertyNames(fw).forEach(t=>w[t]=w[t]||fw[t]),_h=2*PI;let aN=CanvasRenderingContext2D.prototype;aN.V=function(t){this.save(),t(),this.restore()},aN.fr=aN.fillRect,aN.u=function(t){this.fillStyle=t};class ic{constructor(t){this._o=t._o,this.v=t.v,[_x,N,bs,aM,_V,cc].forEach(t=>t.splice(0,t.length))}_$(t){P._$(t),_x.forEach(i=>i._$(t))}fu(t,i,e,h,s){if(!(_k(t,i,P.x,P.y)>1600))for(let a=0;a<h;a++){let h=max(.2,(.5+e/100)/H(.4,.7)),a=100*H(.01,.03),r=(e+50)/100*50,l={_O:1,ik:a,ij:a,_s:s()};N.push(l),Z(l,"x",t,t+H(-1,1)*r,h),Z(l,"y",i,i+H(-1,1)*r,h),Z(l,"z",e,-50,h,0,ia),Z(l,"f",0,0,h+.5,0,0,()=>K(N,l))}}}i_=((t,i)=>{let e=[],h=i.getImageData(0,0,t.width,t.height);for(let i=0;i<t.height;i++){e.push([]);for(let s=0;s<t.width;s++)e[i][s]=h.data[i*t.width*4+4*s]>128,h.data[i*t.width*4+4*s]=255*e[i][s],h.data[i*t.width*4+4*s+1]=255*e[i][s],h.data[i*t.width*4+4*s+2]=255*e[i][s],h.data[i*t.width*4+4*s+3]=255*e[i][s]}return i.putImageData(h,0,0),i.globalCompositeOperation="source-atop",i.u("#048"),i.fr(0,0,t.width,t.height),{_o:e,v:t}}),i$=(()=>J(50,50,(t,i)=>{t.u("#fff"),fq=((e,h,s,a)=>{let r=_k(e,h,s,a);t.strokeStyle="#000",t.lineWidth=2;let l=e,o=h;for(let n=0;n<=r;n+=5){let f=n/r,_=_p(0,e+(s-e)*f+H(-.1,.1)*r,i.width),c=_p(0,h+(a-h)*f+H(-.1,.1)*r,i.height);t.beginPath(),t.moveTo(l,o),t.lineTo(_,c),t.stroke(),l=_,o=c}}),t.fr(0,0,i.width,i.height),t.clearRect(4,4,3,3);for(let t=5;t<i.width;t+=5)fq(t,5,t,i.height-5),fq(5,t,i.height-5,t);return t.fr(0,0,i.width,1),t.fr(0,0,1,i.height),t.fr(0,i.height-1,i.width,1),t.fr(i.width-1,0,1,i.height),t.u("#000"),t.beginPath(),t.arc(25,25,4,0,_h),t.fill(),i_(i,t)}));class hZ{constructor(t,i,e,h,s,a,r,l,o){this.x=t,this.y=i,this.z=e,this._L=h,this.g=s,this._e=a,this.cb=r,this._u=l,this.ai=o,this.bq=G.D,this.hY=P.z,N.push(this._={x:this.x,y:this.y,z:this.z,ik:this._u,ij:this._u,_s:(r[0],"#ff0")}),_x.push(this)}_$(t){let i=t;for(;i>0&&!this.ca;){let t=min(i,20/this._L);i-=t,this.hW(t),0}this._.x=this.x,this._.y=this.y,this._.z=this.z}hW(t){let i=this.x,e=this.y;if(this.x+=cos(this.g)*this._L*t,this.y+=sin(this.g)*this._L*t,this.z-=sin(this._e)*this._L*t,(dj(this.x,this.y,0)&&this.z<50||this.z<-50||G.D-this.bq>3)&&this.K(i,e),this.cb.forEach(t=>{_b(t,this)<t.S&&abs(t.z-this.z)<t.S&&(this.K(i,e,t),t.ah(this,.2,this.g))}),_b(this,P)<1600){let t={x:this.x,y:this.y,z:this.z,_O:1,ik:this._u,ij:this._u,_s:this.cb[0]==P?"#f00":"#fff"};N.push(t),Z(t,"_O",1,0,.8,0,0,()=>K(N,t)),Z(t,"x",t.x,t.x+H(-5,5),.8),Z(t,"y",t.y,t.y+H(-5,5),.8),Z(t,"z",t.z,t.z+H(-5,5),.8)}}K(t,i,e){K(_x,this),K(N,this._);let h=this.cb[0]==P,s=e&&e!=P;if(this.ai&&(fm(t,i,this.z),!h)){let h=hV(t,i,this.z,50);h>1&&G._g._U("EXPLOSION COMBO X"+h,50*h),s=s||h,e&&G._g._U("DIRECT ROCKET HIT",50)}!h&&this.hY&&e&&!e.fl.has(this.bq)&&(G._g._U("JUMPSHOT",10),e.fl.add(this.bq)),e||W.fu(t,i,this.z,2,()=>"#ff0"),this.ca=1}}hV=((t,i,e,h)=>{let s=0;return[P].concat(aM).forEach(a=>{let r=_k(a.x,a.y,t,i),l=.9*(1-min(1,r/200));l>0&&abs(e-a.z)<h&&(a.ah({x:t,y:i,z:e},l,atan2(a.y-i,a.x-t)),a!=P&&s++)}),c$(t,i,e,h),hU(),s}),c$=((t,i,e,h)=>{if(!(_k(t,i,P.x,P.y)>1600)){for(let s=0;s<3;s++){let s=H(.2,.4),a={x:t+.5*h*H(-1,1),y:i+.5*h*H(-1,1),z:e+.5*h*H(-1,1),_O:1,_:hT};N.push(a),Z(a,"_O",1,0,.2,s-.2,0,()=>K(N,a)),Z(a,"ik",0,2*h,s),Z(a,"ij",0,2*h,s)}for(let s=0;s<50;s++){let s=random()*_h,a=H(-1,1)*PI/2,r=H(.2,.8)*h,l=.8*h,o=H(.2,.6),n=H(10,20),f={x:t+cos(s)*r*cos(a),y:i+sin(s)*r*cos(a),z:e+sin(a)*r,_O:1,ik:n,ij:n,_s:bt(["#ff0","#f00","#f80"])};N.push(f),Z(f,"_O",1,0,o,0,0,()=>K(N,f)),Z(f,"x",f.x,f.x+cos(s)*l*cos(a),o),Z(f,"y",f.y,f.y+sin(s)*l*cos(a),o),Z(f,"z",f.z,f.z+sin(a)*l,o)}}});class hS{constructor(t,i,e){this.x=t,this.y=i,this.z=0,this.fk=G.D+e,_x.push(this),_V.push(this),N.push(this._={ik:12,ij:20,_:fj[0]})}_$(t){if(this._.x=this.x,this._.y=this.y,this._.z=this.z+10,this._._=fj[~~((G.D+this.fk)%.5/.25)],G.D>this.fk&&this.K(),_b(this,P)<P.S&&abs(this.z-(P.z-25))<50&&G.D-P.dg>.1){let i=(G.D-P.dg>.1)*t*1;P.ah(this,i,aj(this,P)),i&&(P.dg=G.D)}}K(){K(_x,this),K(_V,this),K(N,this._)}}fm=((t,i,e,h=3)=>{for(let s=0;s<5;s++){let s=new hS(t+50*H(-1,1),i+50*H(-1,1),h+H(0,.3)),a=-50;Z(s,"z",e,a,abs(a-e)/(100*H(2,2.5))||.1)}});class aH{constructor(t){this.C=t,this._T=-9,this._J=.1,this.bZ=1,this._I=0,this._u=.5,this.ae=1600,this.aG=1/30,this.df=1,this.bq=G.D,this.ai=0}_$(t){}bY(){G.D-this._T>this._J&&this.C.M>0&&(this._T=G.D,this.bm(),this.aF&&this.aF())}hQ(){this.fh=1,this.bY()}hP(){this.fh=0}bm(){(this.df=max(0,this.df-this.aG))||this.C.aE(new fg(this.C));for(let t=0;t<this.bZ;t++)new hZ(this.C.x+100*cos(this.C.g)*.1,this.C.y+100*sin(this.C.g)*.1,this.C.bl()-10,this.ae,this.C.ff()+H(-1,1)*this._I,this.C.fe()+H(-1,1)*this._I,this.C.fd,this._u,this.ai);this.C==P&&de("#444")}}class hO extends aH{constructor(t){super(t),this._J=.5,this._u=5,this._=hN,this.ae=2e3,this.ai=1,this.aF=hM}}class hL extends aH{constructor(t){super(t),this._J=.3,this._I=PI/64,this.bZ=5,this._=hK,this.ae=3e3,this.aF=(()=>{for(let t=5;--t;)bX()})}}class hJ extends aH{constructor(t){super(t),this._J=.1,this._I=PI/256,this._=hI,this.ae=3e3,this.aG=.02,this.aF=bX}_$(t){super._$(t),this.fh&&this.bY()}}class fg extends aH{constructor(t){super(t),this._J=.1,this._I=PI/512,this._=hH,this.ae=3e3,this.aG=0,this.aF=bX}}class hG extends aH{constructor(t){super(t),this._J=1,this.bZ=7,this._=hF,this.ae=5e3,this.aF=(()=>{for(let t=5;--t;)bX()}),this.aG=.15,this.hE="#f0f"}}class dd extends aH{constructor(t){super(t),this.hE="#f00",this.aG=0,this.ae=500}_$(t){super._$(t),this.C.ad&&this.bY()}bm(){abs(_W(P.g-aj(this.C,P)))<PI/2||random()<.5?super.bm():this._T=G.D}}class hD extends dd{constructor(t){super(t),this.bZ=5,this._I=PI/64,this._J=3,this._u=4}}class hC extends dd{constructor(t){super(t),this._I=PI/512,this._I=0,this._J=.1,this._u=4,this.hB=0}bm(){super.bm(),++this.hB%10||(this._T+=4)}}class hA extends dd{constructor(t){super(t),this._I=PI/512,this._J=3,this._u=10,this.ai=1}}class fc{constructor(t){this.z=-25,N.push(this._={z:-25,ik:30,ij:t.height/t.width*60/2,_:t}),_x.push(this),bs.push(this),_V.push(this),N.push(this.ac={x:this.x,y:this.y,z:-50,ik:30,ij:8,_:fb})}enabled(){return 1}_$(){this._.x=this.x,this._.y=this.y,this._.z=this.z+2*sin(G.D*PI*2/2),this.ac.x=this.x+cos(P.g),this.ac.y=this.y+sin(P.g),this.enabled()&&_b(this,P)<60&&(this.fa(),this.K(),P.dc=G.D,de("#440"))}K(){K(_x,this),K(bs,this),K(_V,this),K(N,this._),K(N,this.ac),hz()}}class hy extends fc{constructor(){super(hx)}fa(){P.aE(new(bt([hO,hL,hJ,hG].filter(t=>P.O.constructor!=t)))(P))}}class hw extends fc{constructor(){super(hv)}fa(){P.M=min(1,P.M+.5)}enabled(){return P.M<1}}class f_{constructor(){this.x=this.y=this.z=0,this.aD=-1,this.M=1,this.g=PI/4,this._e=0}aE(t){this.O=t}_$(t){this.O&&this.O._$(t)}moveBy(t,i){this.x+=t,dj(this.x,this.y,this._H||this.S)&&this.z<50&&(this.x-=t,this._A=0),this.y+=i,dj(this.x,this.y,this._H||this.S)&&this.z<50&&(this.y-=i,this._z=0)}f$(){return"#f00"}ah(t,i){this.M&&i>0&&!G.aC&&(this.aD=(i>0)*G.D,this.M=max(0,this.M-i),this.M||this.bk(),W.fu(this.x+H(-1,1)*this.S/2,this.y+H(-1,1)*this.S/2,this.z,30*!this.M+10,()=>this.f$()),hu())}bk(){}bl(){return this.z}ff(){return this.g}fe(){return this._e}}class eZ extends f_{constructor(){super();let t=bt([{eY:ht,z:-50},{eY:hs,z:-50},{eY:hr,z:100*H(1.5,2.5)}]);this.fl=new Set,this.bj=t.eY[0],this.eX=t.eY[1],this.eW=t.eY[2],this.width=.3*this.bj.width,this.height=.3*this.bj.height,this.z=t.z+.3*this.bj.height/2,N.push(this._={x:this.x,y:this.y,z:this.z,ik:this.width,ij:this.height,_:this.jJ}),_x.push(this),aM.push(this),_V.push(this),N.push(this.ac={x:this.x,y:this.y,z:-50,ik:this.width/2,ij:this.height/8,_:fb}),this.fd=[P],this.eV=0,this.S=.6*this.width,this._H=25,this.aE(new(bt([hA,hC,hD]))(this))}f$(){return bt(["#111","#333","#222","#ff0","#f80"])}aE(t){super.aE(t),t.aG=0}_$(t){if(super._$(t),G.D>=this.eV||_b(this,this._K)<10){this.ad||(this.O._T=G.D+H(1,2)),this.ad=_b(P,this)<500&&P.M;let t=this.ad?P:this;this._K={x:_p(0,t.x+100*H(-1,1)*4,100*W._o[0].length),y:_p(0,t.y+100*H(-1,1)*4,100*W._o.length)},this.eV=G.D+2,this.ad=_b(P,this)<800}let i=_W(aj(this,this._K)-this.g);this.g+=_p(-t*PI/4,i,t*PI/4);let e=this.ad?200:100;if(this.moveBy(cos(this.g)*t*e,sin(this.g)*t*e),this._.x=this.x,this._.y=this.y,this._.z=this.z,this.ac.x=this.x+cos(P.g),this.ac.y=this.y+sin(P.g),_b(this,P)<this._H+P._H&&this.z-P.z<this.height/2&&P.M){let t=aj(this,P),i=this.x+cos(t)*(this._H+P._H),e=this.y+sin(t)*(this._H+P._H);P.moveBy(i-P.x,e-P.y)}this._._=G.D-this.aD<.05?this.eW:this.ad?this.eX:this.bj}bk(){super.bk(),K(_x,this),K(N,this.ac),K(aM,this),K(_V,this);let t=abs(-25-this.z)/100;Z(this._,"z",this.z,.3*this.bj.height/2-50,t),Z(this._,"f",0,0,0,t+.5,0,()=>{K(N,this._),c$(this.x,this.y,-50,50)}),fm(this.x,this.y,-50,.5),this._._=this.eW,G._g._U("ROBOT PWNED",10),G.D-G._g.eT<4&&++G._g.bV>1?G._g._U("COMBO X"+G._g.bV,50*G._g.bV):G._g.bV=1,G._g.eT=G.D,P.M<.3&&G._g._U("NEAR DEATH",50),_M(.1,G.D-this.eS,.7)&&G._g._U("QUICK KILL",50)}ah(t,i,e){super.ah(t,i,e),P.eR=G.D,this.ad=1,this.eS=this.eS||G.D}ff(){return aj(this,P)}fe(){return atan2(-(P.z-this.z),_b(this,P))}}class ho extends f_{constructor(){super(),this._A=this._z=0,this.x=550,this.y=550,this.da=0,this.jI=0,this.bi=0,this.aa=0,this.eQ=-1,this.eR=-1,this.dc=-1,this.dg=-1,this.fd=aM,this.S=50,this._H=20,this.jH=0}_$(t){if(!this.M)return;super._$(t);let i=this.z;this.g=_W(this.g),this._e=_p(-PI/4,this._e,PI/4);let e=!!w._d[87]+!!w._d[90]+!!w._d[38]-!!w._d[83]-!!w._d[40],h=!!w._d[68]+!!w._d[39]-!!w._d[65]-!!w._d[37]-!!w._d[81];if(!e&&!h||G.jG){if(!this.z){let i=atan2(this._z,this._A),e=_k(0,0,this._A,this._z),h=max(0,e-3e3*t);this._A=cos(i)*h,this._z=sin(i)*h}}else{let i=450*(.5*!!this.z+1),s=atan2(h,e)+this.g,a=i*cos(s),r=i*sin(s),l=1-abs(.7*!!this.z),o=this._A+l*_p(3e3*-t,a-this._A,3e3*t)*abs(cos(s)),n=this._z+l*_p(3e3*-t,r-this._z,3e3*t)*abs(sin(s)),f=min(i,_k(0,0,o,n)),_=atan2(n,o);this._A=cos(_)*f,this._z=sin(_)*f}this.moveBy(this._A*t,this._z*t),this.bi+=(1-.5*!!this.z)*(_k(0,0,this._A,this._z)/450)*t,this.da-=400*t/.25/.9,this.z=_p(0,this.z+this.da*t,50),!this.z&&i&&(this.eQ=G.D),w._d[32]&&this.hj();let s=(!!w._d[65]-!!w._d[68])*PI/100;this.aa=this.aa+_p(-t*PI/8,s-this.aa,t*PI/8)}hj(){this.z||_c||(this.da=400,this._A*=1.5,this._z*=1.5)}bl(){return this.M?this.z+10*this.eK()+!this.z*(3*sin(this.bi*PI*2*2)):-25}eK(){return-sin(min(1,(G.D-this.eQ)/.3)*PI)}aa(){return(!!w._d[65]-!!w._d[68])*PI/128}bk(){super.bk(),this._e=0,this.aa=0,document.exitPointerLock(),setTimeout(G.eJ,5e3)}ah(t,i,e){super.ah(t,.1*i,e);let h={g:e,_O:1};cc.push(h),Z(h,"_O",1,0,1,0,0,()=>K(cc,h)),de("#400")}}onresize=(()=>{var i,e,h=innerWidth,s=innerHeight,a=h/s,r=800/600,l=t.style;a<=r?e=(i=h)/r:i=(e=s)*r,l.width=i+"px",l.height=e+"px"}),hg=((t,i,e,h)=>t/h*e+i),ia=((t,i,e,h)=>(t/=h)<1/2.75?e*(7.5625*t*t)+i:t<2/2.75?e*(7.5625*(t-=1.5/2.75)*t+.75)+i:t<2.5/2.75?e*(7.5625*(t-=2.25/2.75)*t+.9375)+i:e*(7.5625*(t-=2.625/2.75)*t+.984375)+i),hf=((t,i,e,h)=>e*(t/=h)*t*t+i),Z=((t,i,e,h,s,a,r,l)=>{var o={o:t,p:i,a:e,b:h,d:s,l:a||0,f:r||hg,e:l||(()=>0),t:0,_$:t=>{if(o.l>0)o.l-=t,o.o[o.p]=o.a;else if(o.t=min(o.d,o.t+t),o.o[o.p]=o.f(o.t,o.a,o.b-o.a,o.d),o.t==o.d){o.e();let t=bT.indexOf(o);t>=0&&bT.splice(t,1)}}};bT.push(o)}),bT=[],he=((t,i,e,h)=>{let s,a=hd(t,i,e,h),r=hc(t,i,e,h);if(a)if(r){s=_k(t,i,a.x,a.y)<_k(t,i,r.x,r.y)?a:r}else s=a;else s=r;return _k(t,i,s.x,s.y)>h&&(s={x:t+cos(e)*h,y:i+sin(e)*h}),s}),hd=((t,i,e,h)=>{var s=sin(e)>0,a=100*~~(i/100)+(s?100:-1e-4),r=t+(a-i)/tan(e),l=s?100:-100,o=l/tan(e);return eF(r,a,o,l,1,h)}),hc=((t,i,e,h)=>{var s=cos(e)>0,a=100*~~(t/100)+(s?100:-1e-4),r=i+(a-t)*tan(e),l=s?100:-100,o=l*tan(e);return eF(a,r,l,o,0,h)}),eF=((t,i,e,h,s,a)=>{let r=t,l=i;for(let o=0;_k(r,l,t,i)<a;o++){if(ay(r,l)){let t=~~(r/100)+~~(l/100)*W._o.length;return{x:r,y:l,bd:s+"-"+t,ax:t}}if(eC(r,l))break;r+=e,l+=h}return{x:r,y:l,bd:""}}),dj=((t,i,e=0)=>ay(t,i)||ay(t+e,i)||ay(t-e,i)||ay(t,i-e)||ay(t,i+e)),ay=((t,i)=>!eC(t,i)&&W._o[~~(i/100)][~~(t/100)]),eC=((t,i)=>!_M(0,t,100*W._o[0].length-1)||!_M(0,i,100*W._o.length-1)),K=((t,i)=>{let e=t.indexOf(i);e>=0&&t.splice(e,1)});let J=(t,i,e)=>{let h=document.createElement("canvas");return h.width=t,h.height=i,e(h.getContext("2d"),h)||h},eA=(t,i,e)=>{let h=J(t,i,e);return h.getContext("2d").createPattern(h,"repeat")};_r=((t,i)=>{let e=J(t.width/i,t.height/i,(i,e)=>{i.imageSmoothingEnabled=0,i.drawImage(t,0,0,e.width,e.height)});return J(t.width,t.height,(t,i)=>{t.imageSmoothingEnabled=0,t.drawImage(e,0,0,i.width,i.height)})}),ex=((t,i)=>J(t.width,t.height,e=>{e.drawImage(t,0,0),e.globalCompositeOperation="source-atop",e.u(i),e.fr(0,0,t.width,t.height)})),bS=((t,i,e)=>J(t.width,t.height,h=>{h.drawImage(t,0,0),h.globalCompositeOperation="source-atop";for(let s=0;s<t.width;s+=i)for(let a=0;a<t.height;a+=i)h.u(e()),h.fr(s,a,i,i)})),h$=((t,i,e)=>J(t.width,t.height,h=>{h.translate(t.width*(.5-.5*i),t.height*(.5-.5*e)),h.scale(i,e),h.drawImage(t,0,0)})),gZ=(t=>J(120,200,i=>{i.strokeStyle="#000",i.lineWidth=5,i.u("#333"),i.beginPath(),i.arc(60,60,60,PI,0),i.fill(),i.stroke(),i.u("#111"),i.beginPath(),i.moveTo(0,60),i.lineTo(120,60),i.lineTo(100,170),i.lineTo(20,170),i.closePath(),i.fill(),i.stroke(),i.u("#333"),i.fr(42,170,36,30),i.strokeRect(42,170,36,30),i.u(t),i.fr(50,15,20,10)})),gY=(t=>J(100,110,i=>{i.u("#111"),i.beginPath(),i.arc(20,20,20,PI,-PI/2),i.arc(80,20,20,-PI/2,0),i.arc(80,70,20,0,PI/2),i.arc(20,70,20,PI/2,PI),i.fill(),i.u("#333"),i.beginPath(),i.arc(30,30,20,PI,-PI/2),i.arc(70,30,20,-PI/2,0),i.arc(70,60,20,0,PI/2),i.arc(30,60,20,PI/2,PI),i.fill(),i.strokeStyle="#111",i.lineWidth=10,i.fr(25,90,10,10),i.strokeRect(25,90,10,10),i.fr(75,90,-10,10),i.strokeRect(75,90,-10,10),i.u("#111"),i.fr(25,25,20,20),i.fr(75,25,-20,20),i.u(t),i.fr(30,30,10,10),i.fr(70,30,-10,10)})),gX=(t=>J(200,200,i=>{i.u("#111"),i.beginPath(),i.arc(100,100,100,0,_h),i.fill(),i.u("#333"),i.beginPath(),i.arc(100,100,80,0,_h),i.fill(),i.u("#111"),i.beginPath(),i.arc(100,100,40,0,_h),i.fill(),i.u(t),i.beginPath(),i.arc(100,100,20,0,_h),i.fill()})),cX=(t=>{let i=t=>bS(_r(t,5),5,()=>"rgba(255,255,255, "+.05*random()+")");return[i(t("#0f0")),i(t("red")),ex(i(t("red")),"rgba(255,255,255,0.5)")]}),ht=cX(gZ),hs=cX(gY),hr=cX(gX),fb=_r(J(200,200,t=>{t.u("#000"),t.globalAlpha=.5,t.beginPath(),t.arc(100,100,100,0,_h),t.fill()}),10),cU=_r(J(10,10,t=>{t.u("#fff"),t.beginPath(),t.arc(5,5,4.5,0,_h),t.fill()}),2),cT={},cS=(t=>(cT[t]=cT[t]||ex(cU,t),cT[t])),gW=bS(J(40,40,t=>{t.u("#310"),t.fr(0,0,40,40),t.u("#965"),t.fr(0,20,40,1),t.u("#531"),t.fr(2,2,16,16),t.fr(21,2,16,16),t.fr(2,22,36,17)}),1,()=>"rgba(255,255,255,"+H(.05,.1)+")"),ew=bS(J(40,40,t=>{t.u("#000"),t.fr(0,0,40,40),t.globalAlpha=.05,t.u("#fff"),t.fr(0,0,40,1),t.fr(19,0,2,40),t.fr(0,19,40,2),t.fr(0,39,40,1),t.fr(39,0,1,40),t.fr(0,0,1,40)}),1,()=>"rgba(255,255,255,"+H(.05,.1)+")"),cR=(()=>J(40,40,t=>{function i(){for(let i=3;i<17;i+=3)for(let e=3;e<17;e+=3)t.fillStyle=random()<.5?"#462":"#dfb",t.fr(i,e,2,1)}t.drawImage(ew,0,0),i(),t.translate(20,0),i(),t.translate(-20,20),i(),t.translate(20,0),i()})),ev=[...Array(11)].map((t,i)=>i<6?[gW]:i<10?[ew]:[cR(),cR(),cR()]),eu=bS(J(40,40,(t,i)=>{t.u("#000"),t.fr(0,0,40,40),t.globalAlpha=.1,t.u("#fff"),t.fr(0,0,40,1),t.fr(0,19,40,2),t.fr(19,0,2,40),t.fr(0,39,40,1),t.fr(39,0,1,40),t.fr(0,0,1,40)}),1,()=>"rgba(255,255,255,"+H(.05,.1)+")"),gV=J(40,40,(t,i)=>{t.drawImage(eu,0,0),t.u("#000");for(let e=0;e<i.height;e+=2)t.fr(0,e,i.width,1);t.globalAlpha=.1,t.u("#fff"),t.fr(0,0,40,1),t.fr(0,19,40,2),t.fr(19,0,2,40),t.fr(0,39,40,1),t.fr(39,0,1,40),t.fr(0,0,1,40)}),gU=eA(80,40,(t,i)=>{t.imageSmoothingEnabled=0,t.u("#002a50"),t.beginPath(),t.moveTo(0,35);let e=[t=>40*sin(t*_h/80)/8,t=>40*sin(t*_h/40)/16,t=>40*sin(t*_h/20)/32];for(let i=0;i<=80;i+=2)t.lineTo(i,e.reduce((t,e)=>t+e(i+10),10));t.lineTo(80,35),t.fill()}),gR=eA(15,15,t=>{t.u("#fff"),t.globalAlpha=.1;for(let i=0;i<150;i+=15)t.fr(i,0,1,150),t.fr(0,i,150,1)}),gQ=J(1,1,t=>{let i=t.createRadialGradient(0,0,0,0,0,80);return i.addColorStop(0,"#fff"),i.addColorStop(1,"rgba(255,255,255, 0)"),i}),et=_r(J(80,120,t=>{let i=t.createRadialGradient(40,84,0,40,84,40);i.addColorStop(0,"#ff0"),i.addColorStop(1,"#f00");let e=[];for(let t=0;t<=1;t+=.1){let i=.5+.2*sin(t*PI*3);e.unshift({x:i-t/2,y:t}),e.push({x:i+t/2,y:t})}t.u(i),t.strokeStyle="#ff0",t.lineWidth=5,t.beginPath(),e.forEach(i=>t.lineTo(80*i.x,120*i.y)),t.stroke(),t.fill()}),10),fj=[et,h$(et,-1,1)],hT=_r(J(200,200,t=>{let i=t.createRadialGradient(100,100,0,100,100,100);i.addColorStop(0,"#fff"),i.addColorStop(.5,"#ff0"),i.addColorStop(1,"#f80"),t.u(i),t.beginPath(),t.arc(100,100,100,0,_h),t.fill()}),10),hx=_r(J(100,100,t=>{t.u("#816951"),t.beginPath(),t.moveTo(0,100/6),t.lineTo(50,100/6),t.lineTo(50,100),t.lineTo(0,500/6),t.fill(),t.u("#b09370"),t.beginPath(),t.moveTo(50,100/3),t.lineTo(100,100/6),t.lineTo(100,500/6),t.lineTo(50,100),t.fill(),t.u("#5e503a"),t.beginPath(),t.moveTo(50,0),t.lineTo(100,100/6),t.lineTo(50,100/3),t.lineTo(0,100/6),t.fill()}),5),hv=_r(J(100,60,t=>{t.u("#ccc"),t.fr(0,12,100,60),t.u("#888"),t.beginPath(),t.moveTo(0,12),t.lineTo(100,12),t.lineTo(80,0),t.lineTo(20,0),t.fill(),t.u("#080"),t.fr(45,21,10,30),t.fr(35,31,30,10)}),5),hN=_r(J(120,200,t=>{let i=t.createLinearGradient(0,0,120,0);i.addColorStop(.2,"#443"),i.addColorStop(.5,"#676"),i.addColorStop(.8,"#443"),t.u(i),t.beginPath(),t.arc(60,40,40,PI,0,0),t.arc(60,60,40,0,PI,0),t.fill(),t.u("#221"),t.beginPath(),t.arc(60,60,40,0,_h,0),t.fill(),t.u(i),t.beginPath(),t.arc(60,60,30,PI,0,0),t.lineTo(90,60),t.lineTo(110,200),t.lineTo(10,200),t.fill()}),5),hH=_r(J(70,150,t=>{let i=t.createLinearGradient(0,0,70,0);i.addColorStop(.2,"#000"),i.addColorStop(.5,"#222"),i.addColorStop(.8,"#000"),t.u(i),t.beginPath(),t.arc(35,25,20,PI,0),t.arc(35,80,35,0,PI,1),t.fill(),t.u("#000"),t.fr(32,40,-10,-5),t.fr(38,40,10,-5),t.fr(32,0,6,10),t.beginPath(),t.arc(35,79,35,PI,0),t.lineTo(70,150),t.lineTo(0,150),t.fill(),t.u("#222"),t.fr(30,60,10,16),t.u("#111"),t.fr(0,80,5,100),t.fr(65,80,5,100)}),5),hI=_r(J(100,150,t=>{let i=t.createLinearGradient(0,0,100,0);i.addColorStop(.2,"#000"),i.addColorStop(.5,"#222"),i.addColorStop(.8,"#000"),t.u(i),t.beginPath(),t.arc(50,30,20,PI,0),t.lineTo(90,150),t.lineTo(10,150),t.fill(),t.u("#000"),t.fr(46,0,8,20)}),5),hK=_r(J(165,150,(t,i)=>{let e=t.createLinearGradient(0,0,82.5,10);e.addColorStop(0,"#765"),e.addColorStop(.7,"#ddd"),e.addColorStop(1,"#765");let h=()=>{t.beginPath(),t.moveTo(40,20),t.arc(60,20,20,PI,0,0),t.lineTo(80,150),t.lineTo(10,150),t.fill()};t.u(e),h(),t.translate(165,0),t.scale(-1,1),h()}),5),cQ=_r(J(160,160,t=>{let i=t.createRadialGradient(80,80,0,80,80,80);i.addColorStop(0,"#fff"),i.addColorStop(.4,"#fff"),i.addColorStop(.6,"#ff0"),i.addColorStop(1,"#ff0"),t.u(i);for(let i=0;i<3;i++)t.beginPath(),t.ellipse(80,80,80,16,i*PI/3,0,2*PI),t.fill()}),5),hF=_r(J(80,160,t=>{let i=t.createLinearGradient(0,0,80,0);i.addColorStop(0,"#76f"),i.addColorStop(.5,"#ddf"),i.addColorStop(1,"#76f");let e=t.createLinearGradient(0,0,80,0);e.addColorStop(0,"#f00"),e.addColorStop(.5,"#c0f"),e.addColorStop(1,"#f00"),t.u(i),t.beginPath(),t.arc(40,20,20,PI,0),t.lineTo(80,160),t.lineTo(0,160),t.fill(),t.beginPath(),t.u(e),t.arc(40,60,18,PI,0),t.arc(40,120,25,0,PI,1),t.fill()}),5);let _G,cP=44100,bb=2,ba=33;function cO(t){return sin(6.283184*t)}function gP(t){return cO(t)<0?-1:1}function gO(t){return t%1-.5}function gN(t){let i=t%1*4;return i<2?i-1:3-i}let cN=[cO,gP,gO,gN];function eq(t){return.00390625*pow(1.059463094,t-128)}function cM(t,i){setTimeout(()=>{var e=new Uint8Array(t*bb*2),h=e.length-2,s=()=>{for(var t=new Date,a=0;h>=0;)if(e[h]=0,e[h+1]=128,h-=2,(a+=1)%1e3==0&&new Date-t>ba)return void setTimeout(s,0);setTimeout(()=>i(e),0)};setTimeout(s,0)},0)}function ep(t,i,e,h,s){let a=e.jE*h>>1,r=e.jD/255,l=0,o=()=>{let e=new Date,h=0;for(;l<i-a;){var n=4*l,f=4*(l+a),_=t[f]+(t[f+1]<<8)+(t[n+2]+(t[n+3]<<8)-32768)*r;if(t[f]=255&_,t[f+1]=_>>8&255,_=t[f+2]+(t[f+3]<<8)+(t[n]+(t[n+1]<<8)-32768)*r,t[f+2]=255&_,t[f+3]=_>>8&255,++l,(h+=1)%1e3==0&&new Date-e>ba)return void setTimeout(o,0)}setTimeout(s,0)};setTimeout(o,0)}class en{constructor(t){this.Y=t,this._m=t.length/bb/2}jC(){let t,i,e,h,s,a,r,l=this.Y,o=this._m*bb*2;for(a=(s=o-8)-36,h=String.fromCharCode(82,73,70,70,255&s,s>>8&255,s>>16&255,s>>24&255,87,65,86,69,102,109,116,32,16,0,0,0,1,0,2,0,68,172,0,0,16,177,2,0,4,0,16,0,100,97,116,97,255&a,a>>8&255,a>>16&255,a>>24&255),t=0;t<o;){for(e="",i=0;i<256&&t<o;++i,t+=2)r=(r=4*(l[t]+(l[t+1]<<8)-32768))<-32768?-32768:r>32767?32767:r,e+=String.fromCharCode(255&r,r>>8&255);h+=e}return h}em(t){_G||(_G=new AudioContext);let i=this.Y,e=this._m,h=_G.createBuffer(bb,this._m,cP),s=h.getChannelData(0),a=h.getChannelData(1),r=0,l=()=>{for(var o=new Date,n=0;r<e;){var f=4*(i[4*r]+(i[4*r+1]<<8)-32768);if(f=f<-32768?-32768:f>32767?32767:f,s[r]=f/32768,f=(f=4*(i[4*r+2]+(i[4*r+3]<<8)-32768))<-32768?-32768:f>32767?32767:f,a[r]=f/32768,r+=1,(n+=1)%1e3==0&&new Date-o>ba)return void setTimeout(l,0)}setTimeout(()=>t(h),0)};setTimeout(l,0)}}class el{constructor(t,i){this.F=t,this._q=i||5605,this.gJ=cN[t.jo],this.gI=cN[t.jn],this.gH=cN[t.jm],this.attack=t.jl,this.bM=t.jk,this.release=t.jj,this.gG=pow(2,t.ji-8)/this._q,this.gF=pow(2,t.jh-8)/this._q}ek(t,i,e){for(var h=0,s=0,a=eq(t+12*(this.F.je-8)+this.F.jd)*(1+8e-4*this.F.jc),r=eq(t+12*(this.F.jb-8)+this.F.ja)*(1+8e-4*this.F.j_),l=this.F.j$/255,o=0,n=0,f=this.attack+this.bM+this.release-1;f>=0;--f){let t=f+e,b=this.gJ(t*this.gF)*this.F.iY/512+.5,P=1;f<this.attack?P=f/this.attack:f>=this.attack+this.bM&&(P-=(f-this.attack-this.bM)/this.release);var _=a;this.F.iW&&(_+=b),this.F.iV&&(_*=P*P),h+=_;var c=this.gI(h)*this.F.iU;_=r,this.F.iT&&(_*=P*P),s+=_,c+=this.gH(s)*this.F.iS,this.F.gz&&(c+=(2*random()-1)*this.F.gz*P),c*=P/255;var d=this.F.iP;this.F.iO&&(d*=b);var u=l*(c-n)-(o+=(d=1.5*sin(3.141592*d/cP))*n);switch(n+=d*u,this.F.iN){case 1:c=u;break;case 2:c=o;break;case 3:c=n;break;case 4:c=o+u}if(_=cO(t*this.gG)*this.F.iG/512+.5,c*=39*this.F.iF,(t*=4)+3<i.length){var g=i[t]+(i[t+1]<<8)+c*(1-_);i[t]=255&g,i[t+1]=g>>8&255,g=i[t+2]+(i[t+3]<<8)+c*_,i[t+2]=255&g,i[t+3]=g>>8&255}}}cJ(t,i){this.cI(t,t=>{t.em(i)})}cI(t,i){var e=this.attack+this.bM+this.release-1+32*this._q,h=this;cM(e,s=>{h.ek(t,s,0),ep(s,e,h.F,h._q,function(){i(new en(s))})})}}class gw{constructor(t){this._Q=t,this._m=cP*t.iB}gv(t,i,e){cM(this._m,h=>{var s=this._m,a=this._m*bb*2,r=this._Q._q,l=this._Q.eg,o=new el(t,r);let n=0,f=0,_=0,c=()=>{for(var i=new Date;;)if(32!==_){if(f===l-1)return void setTimeout(d,0);var e=t.p[f];if(e){var s=t.c[e-1].n[_];s&&o.ek(s,h,n)}if(n+=r,_+=1,new Date-i>ba)return void setTimeout(c,0)}else _=0,f+=1},d=()=>ep(h,s,t,r,g);var u=0;let g=()=>{let t=new Date,s=0;for(;u<a;){var r=i[u]+(i[u+1]<<8)+h[u]+(h[u+1]<<8)-32768;if(i[u]=255&r,i[u+1]=r>>8&255,u+=2,(s+=1)%1e3==0&&new Date-t>ba)return void setTimeout(g,0)}setTimeout(e,0)};setTimeout(c,0)})}cI(t){cM(this._m,i=>{let e=0,h=()=>{e<this._Q.gs.length?(e+=1,this.gv(this._Q.gs[e-1],i,h)):t(new en(i))};h()})}cJ(t){this.cI(i=>i.em(t))}}gr={n:[137,0,139,0,137,0,0,139,0,0,137,0,0,139,0,0,137,0,139,0,137,0,0,139,0,0,137,0,0,139,0,0]},gq={n:[137,139,137,0,137,139,137,0,0,0,0,0,0,0,0,0,137,139,137,0,137,139,137,0,0,0,0,0,0,0,0,0]},aZ=_N([8,0,0,0,0,0,8,0,0,0,0,0,60,50,419,4607,130,1,10332,120,4,16,5,108,0,0,5,187,0]),cG=_N([7,0,0,1,255,0,7,0,0,1,255,0,0,50,150,4800,200,2,600,254,0,0,0,0,0,0,0,0,0]),cF=_N([8,0,0,1,82,2,8,0,0,0,0,0,255,100,0,9090,232,3,5200,63,0,0,0,0,0,0,0,0,0]),cE=_N([6,0,0,0,192,1,8,0,8,0,82,2,0,100,4545,2727,192,3,2700,85,6,60,6,86,0,1,7,106,0]),aZ.c=cG.c=cE.c=[gr],cF.c=[gq],aZ.p=[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],cG.p=[0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1],cF.p=[0,0,0,0,0,1,0,1,0,0,0,0,0,0,0,0],cE.p=[0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0],new gw({_q:5513,eg:aZ.p.length,gs:[aZ,cG,cF,cE],iB:4*(aZ.p.length-1)}).cJ(t=>{let i=_G.createBufferSource();i.buffer=t,i.loop=1,i.connect(_G.destination),i.start()}),aY=((t,i,e=1)=>{let h=0,s=[...Array(e)].map(()=>gm(t,i));return()=>s[h++%s.length]()}),gm=((t,i)=>{let e;return new el(t).cJ(i,t=>{e=t}),()=>{if(e){let t=_G.createBufferSource();t.buffer=e,t.connect(_G.destination),t.start()}}});let bX=aY(_N([7,0,0,1,255,0,7,0,0,1,255,0,0,0,0,7505,254,2,500,254,0,27,0,0,0,0,0,0,0]),151,10),hu=aY(_N([7,0,0,0,192,1,6,0,9,0,192,1,0,137,2e3,4611,192,1,982,89,6,25,6,77,0,1,3,69,0]),99,5),hz=aY(_N([7,0,0,0,255,3,8,0,0,0,255,0,127,22,22,2193,255,3,4067,176,4,12,2,84,0,1,3,96,0]),159,2),hU=aY(_N([8,0,0,1,82,2,8,0,0,0,0,0,255,0,11601,22456,232,3,4798,63,0,0,0,0,0,0,0,0,0]),187,2),hM=aY(_N([8,0,0,1,82,2,8,0,0,0,0,0,255,0,12631,12110,232,3,2183,63,0,0,0,0,0,0,0,0,0]),183,2);class gl{constructor(){this.cB=this.eT=this.bV=0}_U(t,i){this.cB+=i,G.aX(t,"+"+i)}}w._d={},onkeydown=(t=>{w._d[t.keyCode]=1,27==t.keyCode&&ea()}),onkeyup=(t=>{w._d[t.keyCode]=0}),ea=(()=>{(_c=!_c)||G.e_()}),de=(t=>{document.body.style.backgroundColor=!_c&&t,document.body.style.transition=0,clearTimeout(fz),fz=setTimeout(()=>{document.body.style.transition="background 0.1s",document.body.style.backgroundColor=0},50)});class gk{constructor(){(G=this).D=0,G.bJ=[],G.eJ()}_$(t){if(t*=G.aC?.3:!_c*(P.M<.2&&G.D-P.aD<1.5?.4:1),G.D+=t,P.M&&G.D>G.bI&&!_c&&G.e$(),W._$(t),G.aC){let t=G.D/2+2;P.x=2500+200*cos(t),P.y=2500+200*sin(t),P.g=t+PI,P.bi=P.aa=0}bT.slice().forEach(i=>i._$(t)),V(()=>{if(G.D-P.aD<.2&&!_c&&translate(H(-20,20),H(-20,20)),G.cA=measure(()=>V(cA)),P.M&&!_c){V(()=>{translate(400,300),rotate(PI/4),R.globalAlpha=1-min(1,(G.D-P.eR-.1)/.15),R.u("#f00");for(let t=0;t<4;t++)rotate(PI/2),fr(5,-1,6,2)}),u("#fff"),fr(395,299,10,2),fr(399,295,2,10);let t=10*sin(P.bi*PI*2),i=10*cos(P.bi*PI*4)+50*max(0,1-(G.D-P.O._T)/.15)+30+20*P.eK()+max(0,1-(G.D-P.O.bq)/.5)*P.O._.height;G.D-P.O._T<.1&&V(()=>{translate(t+400,i+600-P.O._.height),rotate(PI*P.O._T*99),drawImage(cQ,-cQ.width/2,-cQ.height/2)}),V(()=>{translate(t,i),drawImage(P.O._,(800-P.O._.width)/2,600-P.O._.height)}),G.cz=measure(()=>V(cz)),G.cw=measure(()=>V(cw))}P.M||_c||(R.font="48pt Impact",R.textAlign="center",u("#fff"),fillText("FINAL SCORE",400,250),fillText(G._g.cB,400,350)),(G.D-max(P.aD,P.dc)<.35||P.M<.2)&&V(()=>{R.globalAlpha=.2,u(P.M<.2||P.aD>P.dc?"#f00":"#fff"),fr(0,0,800,600)})}),_c&&V(gj)}e_(){G.aC&&G.dS(),_c=0}dS(){G._g=new gl,G.aC=0,(P=new ho).aE(new fg(P)),W=new ic(i$()),G.aX("PAUSE","ESC",5),G.aX("JUMP","SPACE",5),G.aX("AIM/SHOOT","MOUSE",5),G.aX("MOVE","WASD/ARROW KEYS",5),G.bH=0,G.e$(),G.bI=G.D+10}eJ(){G.dS(),_c=1,G.aC=1,G.bJ=[];for(let t=0;t<10;t++){let t=random()*_h,i=H(200,350),e=new eZ;e.x=2500+cos(t)*i,e.y=2500+sin(t)*i,e._._=e.eX,e.O.bY()}}e$(){G.bI=G.D+90;for(let t=1;t<W._o.length;t++)for(let i=1;i<W._o[0].length;i++){if(W._o[t][i])continue;let e=100*(i+.5),h=100*(t+.5),s=(W._o[t-1][i]?1:0)+(W._o[t+1][i]?1:0)+(W._o[t][i-1]?1:0)+(W._o[t][i+1]?1:0);if(1!=G.bH&&s>1&&random()<.25&&!bs.filter(t=>t.x==e&&t.y==h).length){let t=new(bt([hy,hw]));t.x=e,t.y=h,c$(e,h,-50,50)}if(G.bH&&random()<.05+.005*G.bH){let s=new eZ;s.x=100*(i+.5),s.y=100*(t+.5),c$(e,h,s.z,50)}}++G.bH>2&&G._g._U("SURVIVED WAVE",500)}aX(t,i,e=2){let h={dQ:t,dP:i};G.bJ.unshift(h),Z(h,"au",-1,0,.3,0,0,()=>{setTimeout(()=>{Z(h,"au",0,1,.3,0,0,()=>K(G.bJ,h))},1e3*e)})}}onload=(()=>{onresize(),ak.width=800,ak.height=600,(R=ak.getContext("2d",{_O:0})).imageSmoothingEnabled=0,Object.getOwnPropertyNames(aN).forEach(t=>{R[t].call&&(w[t]=aN[t].bind(R))}),new gk;let t=Date.now(),i=()=>{let e=Date.now(),h=(e-t)/1e3;t=e,G._$(h),requestAnimationFrame(i)};i(),dM=(t=>{if(!dm||!_c)return;let i=ak.getBoundingClientRect(),e=((t.clientX-i.left)/i.width*800-250)/300,h=((t.clientY-i.top)/i.height*600-490)/20;_M(0,e,1)&&_M(0,h,1)&&(bu=e,localStorage[1]=bu)}),onmousemove=(t=>{ak.style.cursor=_c||!P.M?"default":"none",_c?((dl=ge(t))&&(ak.style.cursor="pointer"),dM(t)):P.M&&(P.g+=t.movementX/(1e3*max(1-bu,.01)),P._e+=t.movementY/(1e3*max(1-bu,.01)))}),onmousedown=(t=>{dm=1,_c?dl&&G.e_():P.O&&P.O.hQ(),dM(t)}),onmouseup=(()=>{P.O&&P.O.hP(),dm=0}),onclick=(()=>!_c&&P.M&&document.body.requestPointerLock()),document.onpointerlockchange=(()=>{let t=document.pointerLockElement;fA&&!t&&P.M&&ea(),fA=t}),ge=(t=>{let i=ak.getBoundingClientRect(),e=(t.clientX-i.left)/i.width*800,h=(t.clientY-i.top)/i.height*600;return _M(350,h,400)&&_M(250,e,550)})}),aW=((t,i,e)=>{let h={x:t,y:i,z:isNaN(e)?-50:e},s=aj(P,h),a=_W(s-P.g),r=400+400*a/.5,l=aV(h,100),o=300-(1-P.bl()/50)*l/2,n=(50-h.z)/100*(o+l-o)+o,f=_a[~~(r/2)],_=!f||_b(f,P)+1>_b(h,P);return{x:r,y:n,av:abs(a)<PI/2&&_&&_M(0,r,800)&&_M(0,n+aS(),600)}}),aS=(()=>-~~(P._e/(.28*PI)*600)),dI=((t,i,e,h,s,a,r)=>{let l=_b(t,P),o=aj(P,t),n=_W(o-P.g);if(l>s||abs(n)>.55)return;let f=aW(t.x,t.y,t.z);if(!f.av&&!r)return;let _=aV(t,i),c=aV(t,e),d=1-_p(0,(l-h)/(s-h),1);V(()=>a(f.x,f.y,_,c,d))}),dD=((t,i)=>{_a[i]=he(P.x,P.y,t,1600)}),aV=((t,i)=>{let e=atan2(t.y-P.y,t.x-P.x);return i/(cos(e-P.g)*_b(t,P))*fZ}),fY=((t,i,e)=>t+e*(i-t)),cn=((t,i)=>{if(t>i)return;let e=P.g-.5,h=e+t/_C*1;dD(h,t);let s=e+i/_C*1;if(dD(s,i),_a[t].bd!=_a[i].bd||!_a[i].bd){let e=~~(t+(i-t)/2);return cn(t+1,e),void cn(e+1,i-1)}for(let e=t+1;e<i;e++){let a,r,l=fY(h,s,(e-t)/(i-t));_a[i].y===_a[t].y?a=((r=_a[t].y)-P.y)/tan(l)+P.x:(a=_a[t].x,r=tan(l)*(a-P.x)+P.y),_a[e].x=a,_a[e].y=r,_a[e].im=1,_a[e].bd=_a[t].bd,_a[e].ax=_a[t].ax}}),_x=[],aM=[],bs=[],_V=[],N=[],fZ=400/tan(.5),_C=400,_a=[];for(let t=-1;t<=_C;t++)_a[t]={};function dv(t,i){if(i&&t.z<50)return;let e=_b(P,t);dI(t,t.ik,t.ij,1500,1600,(h,s,a,r,l)=>{if(R.globalAlpha=(isNaN(t._O)?1:t._O)*l,t._){let l=~~(h-a/2),o=~~(h+a/2);for(let h=l;h<o;h+=2){let o=~~(h/800*1*_C),n=_a[o];if(n&&_b(n,P)>e||i){let i=(h-l)/a,e=i+2/a;drawImage(t._,i*t._.width,0,(e-i)*t._.width,t._.height,h,s-r/2,2,r)}}}else translate(h,s),scale(a/cU.width,r/cU.width),drawImage(cS(t._s),0,0)},t._||i)}cm=((t,i,e)=>{let h=random();return()=>t+sin((h+G.D*PI*2)/e)*i}),fT=[...Array(200)].map(()=>({offsetX:cm(600*random(),H(5,20),H(20,40)),offsetY:cm(600*random(),H(5,20),H(20,40)),il:cm(H(-50,50),H(5,20),H(20,40)),dF:(t,i,e,h,s)=>{u("#fff"),R.globalAlpha=.2*s,fr(t-e/2,i-h/2,e,h)}})),measure=(t=>{t()}),cA=(()=>{G.gi=measure(()=>cn(-1,_C+1)),G.gh=measure(()=>N.sort((t,i)=>_b(i,P)-_b(t,P))),translate(400,300),rotate(P.aa),translate(-400,-300);let t=~~(aS()+300);u("#000010"),fr(0,0,800,t),u("#000"),fr(0,t,800,600-t),[()=>{V(()=>{let i=2*(_h/1),e=-(_W(P.g)+_h)/1*800;translate(e,t-~~(20*i)),scale(i,i),u(gU),fr(-e/i,0,800/i,20)})},()=>translate(0,aS()),()=>N.forEach(t=>dv(t,1)),dU,fQ,dV,()=>N.forEach(t=>dv(t)),fP,()=>fT.forEach(t=>{t.x=600*round((P.x-t.offsetX())/600)+t.offsetX(),t.y=600*round((P.y-t.offsetY())/600)+t.offsetY(),t.z=t.il(),dI(t,1,1,0,600,t.dF)})].forEach(t=>t())}),dV=(()=>{u("#000");for(let t=0;t<_C;t++){let i=_a[t],e=ev[~~(185.346*(i.ax||0))%ev.length],h=e[~~(3*G.D+238.489*i.ax)%e.length];fK(t,i,h)}}),fK=((t,i,e)=>{if(!i)return;let h,s=_b(i,P),a=800*t/_C,r=~~aV(i,100),l=300-(1-P.bl()/50)*r/2,o=100*round(i.x/100),n=100*round(i.y/100);h=abs(o-i.x)>abs(n-i.y)?i.x%100/100:i.y%100/100,s<1600&&drawImage(e,~~(h*e.width),0,1,e.height,a,l,2,r),V(()=>{R.globalAlpha=hf(s/1600,0,1,1),fr(a,l,2,r)})}),fQ=(()=>{drawImage(cS("#ff0"),_W(-P.g)/1*800-30,70,60,60)}),fP=(()=>{let t=~~(_W(-P.g)*_C/1),i=_a[t];if(!i)return;let e=~~aV(i,100),h=300-(1-P.bl()/50)*e/2;if(100>-aS()&&100<h){let i=800*t/_C,e=400-i,h=200-aS(),s=1-_p(0,_k(0,0,e,h)/(G.aC?500:250),1);for(let t=0;t<1;t+=.15){let a=56*t%1*35;R.globalAlpha=.5*s,drawImage(cS("#ff0"),i+2*t*e-a/2,100+2*t*h-a/2,a,a)}}}),dU=(()=>{for(let t=100*~~((P.x-500)/100);t<P.x+500;t+=25)for(let i=100*~~((P.y-500)/100);i<P.y+500;i+=25){let e=~~(t/100)%3||~~(i/100)%3?eu:gV,h=t%100/100,s=i%100/100,a=aW(t,i,-50),r=aW(t,i+25,-50),l=aW(t+25,i,-50),o=aW(t+25,i+25,-50);(a.av||l.av||r.av)&&(R.globalAlpha=1-_p(0,_k(P.x,P.y,t,i)/500,1),dp(e,a.x,a.y,l.x,l.y,r.x,r.y,e.width*h,e.height*s,e.width*(h+.25),e.height*s,e.height*h,e.height*(s+.25))),(o.av||l.av||r.av)&&(R.globalAlpha=1-_p(0,_k(P.x,P.y,t,i)/500,1),dp(e,o.x,o.y,l.x,l.y,r.x,r.y,e.width*(h+.25),e.height*(s+.25),e.width*(h+.25),e.height*s,e.height*h,e.height*(s+.25)))}R.globalAlpha=1}),dp=((t,i,e,h,s,a,r,l,o,n,f,_,c)=>{V(()=>{beginPath(),moveTo(i,e),lineTo(h,s),lineTo(a,r),clip();let d=1/((n-=l)*(c-=o)-(_-=l)*(f-=o)),u=d*(c*(h-=i)-f*(a-=i)),g=d*(c*(s-=e)-f*(r-=e)),b=d*(n*a-_*h),P=d*(n*r-_*s);transform(u,g,b,P,i-u*l-b*o,e-g*l-P*o),drawImage(t,0,0)})}),dn=((t,i,e)=>{R.imageSmoothingEnabled=1,transform(1,-.15,0,1,0,0),R.globalAlpha=.5,R.u("#000"),fr(0,0,195,40),translate(10,10),R.u(t),fr(25,0,150,20),R.globalAlpha=1,e(),fr(25,0,150*i,20)}),cz=(()=>{V(()=>{translate(20,540),dn("#0be",P.M,()=>{fr(7,0,6,20),fr(0,7,20,6)})}),V(()=>{translate(780,540),scale(-1,1),dn("#e50",P.O.df,()=>{fr(0,0,4,20),fr(8,0,4,20),fr(16,0,4,20)})}),cc.forEach(t=>{V(()=>{R.globalAlpha=t._O,translate(400,300),rotate(t.g-P.g+PI-PI/2),translate(100,0),u("#f00"),beginPath(),moveTo(0,-20),lineTo(20,0),lineTo(0,20),fill()})}),R.textAlign="center",R.font="24pt Impact",u("#fff"),fillText(G._g.cB,400,50),u(G.bI-G.D<10?"#f00":"#fff"),R.font="12pt Impact",R.textBaseline="bottom",fillText("NEXT WAVE",700,35),R.font="24pt Impact";let t=round(10*(G.bI-G.D))/10;t%1||(t+=".0"),fillText(t,700,75),R.font="12pt Courier",G.bJ.forEach((t,i)=>V(()=>{i>5||(R.globalAlpha=1-abs(t.au),translate(100*t.au,340+25*i),R.textAlign="right",u("#fff"),fillText(t.dQ,390,0),R.textAlign="left",u("#ff0"),fillText(t.dP,410,0))}))}),cw=(()=>{translate(20,20),u("#454"),R.globalAlpha=.5,beginPath(),rect(0,0,150,150),fill(),clip(),translate(75,120),rotate(-PI/2),R.globalAlpha=1,V(()=>{rotate(-P.g),scale(15,15),translate(-P.x/100,-P.y/100),drawImage(W.v,0,0),V(()=>{scale(1/15,1/15),_V.forEach(t=>V(()=>{let i=t._._;i&&(translate(.15*t.x,.15*t.y),rotate(P.g+PI/2),scale(15/i.width,15/i.width),drawImage(i,-i.width/2,-i.height/2))}))}),scale(1/15,1/15),u(gR),fr(0,0,15*W.v.width,15*W.v.height)}),u(gQ),R.globalAlpha=.5,beginPath(),moveTo(0,0),arc(0,0,80,-.5,.5),closePath(),fill()}),gj=(()=>{R.imageSmoothingEnabled=1,R.globalAlpha=1,R.font="72pt Impact",R.textAlign="center",R.textBaseline="middle",u("#fff"),fillText("[SWAGSHOT]",400,180),R.font="14pt Courier",fillText("TAKE THE STATION BACK... WITH SWAG",400,240),fillText("MOUSE SENSITIVITY: "+round(100*bu)+"%",400,470),fr(250,497.5,300,5),fr(250+300*bu-10,490,20,20),R.textBaseline="middle",V(()=>{R.globalAlpha=1-.2*dl,u("#A20"),fr(250,350,300,50),R.font="24pt Courier",R.u("#fff"),fillText("PLAY",400,375)})});</script>
